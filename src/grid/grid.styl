@import '../utils/media-queries.styl'

grid-columns = 6
outer-margin = 4.2rem
gutter-width = 2.5rem

:global .grid {
    margin-left: auto
    margin-right: auto
    padding-left: outer-margin
    padding-right: outer-margin
    
    &__row {
        display: flex
        flex-direction: row
        flex-wrap: wrap
        margin-left: -(gutter-width / 2)
        margin-right: -(gutter-width / 2)
            
        &__column {
            box-sizing: border-box
            min-height: 1px
            padding-left: (gutter-width / 2)
            padding-right: (gutter-width / 2)
            
            for key in $mq {
                +over($mq[key]) {
                    &--{key} {
                        for i in (1..grid-columns) {
                            &-{i} {
                                flex-basis: (100 / grid-columns * i)%
                                max-width: (100 / grid-columns * i)%
                            }
                        
                            &-middle {
                                align-self: center
                            }
                        
                            &-offset-0 {
                                margin-left: 0
                            }
                                
                            &-offset-{i} {
                                margin-left: (100 / grid-columns * i)%
                            }  
                        }
                    }
                }
            }
        }
    }
}
